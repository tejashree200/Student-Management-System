<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeLeaf.org">
<head>
  <title>Student Management System</title>
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
</head>
<body>
<div class = "container">
  <p class="h1" th:text="'Students List for Course: '+${course.name}" />
  <div class = "row">
    <hr>
    <h3>Course Details</h3>
    <br>
    <ul>
      <li th:text="'Course ID: '+${course.id}"></li>
      <li th:text="'Course Name: '+${course.name}"></li>
      <li th:text="'Course Department: '+${course.department}"></li>
    </ul>
  </div>

  <div class = "row">
    <div class = "col-Lg-3">
      <a th:href = "@{/departments}" class = "btn btn-primary btn-sm mb-3">Back to Department List</a>
    </div>
  </div>
  <table class="table table-striped table-bordered">
    <thead class="table-dark">
    <tr>
      <th>Student ID</th>
      <th>Student First Name</th>
      <th>Student Last Name</th>
      <th>Student Email</th>
      <!--<th>Course</th>-->
      <th>Actions</th>
    </tr>
    </thead>

    <tbody>
    <tr th:each = "student: ${students}">
      <td th:text = "${student.id}"></td>
      <td th:text = "${student.firstname}"></td>
      <td th:text = "${student.lastname}"></td>
      <td th:text = "${student.email}"></td>
     <!-- <td th:text = "${student.course}"></td> -->
      <td>
        <a th:href = "@{/students/edit/{id}(id=${student.id})}"
           class = "btn btn-primary">Update
        </a>

        <a th:href = "@{/unenroll/{cid}/{id}(cid=${course.id},id=${student.id})}"
           class = "btn btn-danger">Un-Enroll
        </a>
      </td>
    </tr>
    </tbody>
  </table>

  <div class = "row">
    <div class = "col-Lg-3">
      <a th:href = "@{'/students/add?id='+${course.id}}"
         class = "btn btn-danger">Add a Student
      </a>

     <!-- <a th:href = "@{/departments/courses/{id}(id=${dept.id)}"
         class = "btn btn-danger">Back to Course List
      </a>-->
    </div>
  </div>
</div>
</body>
</html>